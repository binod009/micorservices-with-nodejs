import { Request, Response, NextFunction } from "express";
import { orders } from "../db";
import { transformAttributesToSchema } from "../utils/Helpers";

export const getOrderModel = async (
  req: Request,
  res: Response,
  next: NextFunction
) => {
    try {
        console.log("Am called");
    const schema = orders.getAttributes();
    const parsedSchema = transformAttributesToSchema<OrderSchema>(schema);
    res.status(200).json(parsedSchema);
  } catch (error) {
    console.log(error);
  }
};

 type OrderSchema = {
  [key: string]: {
    type: string; // Type key, e.g., 'STRING', 'INTEGER', etc.
    primaryKey?: boolean;
    autoIncrement?: boolean;
    allowNull?: boolean;
    defaultValue?: any;
    fieldName?: string;
    _modelAttribute?: boolean;
    field?: string;
         _autoGenerated?: boolean;
         references?: { model: string; key: string };
  };
};

